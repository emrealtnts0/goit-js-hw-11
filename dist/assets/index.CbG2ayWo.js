(function(){const v=document.createElement("link").relList;if(v&&v.supports&&v.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))w(c);new MutationObserver(c=>{for(const N of c)if(N.type==="childList")for(const E of N.addedNodes)E.tagName==="LINK"&&E.rel==="modulepreload"&&w(E)}).observe(document,{childList:!0,subtree:!0});function y(c){const N={};return c.integrity&&(N.integrity=c.integrity),c.referrerPolicy&&(N.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?N.credentials="include":c.crossOrigin==="anonymous"?N.credentials="omit":N.credentials="same-origin",N}function w(c){if(c.ep)return;c.ep=!0;const N=y(c);fetch(c.href,N)}})();function ct(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var q={exports:{}},at=q.exports,rt;function yt(){return rt||(rt=1,function(r,v){(function(y,w){r.exports=w(y)})(typeof globalThis<"u"?globalThis:window||at.window||at.global,function(y){var w={},c="iziToast";document.querySelector("body");var N=!!/Mobi/.test(navigator.userAgent),E=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),G=typeof InstallTrigger<"u",T="ontouchstart"in document.documentElement,B=["bottomRight","bottomLeft","bottomCenter","topRight","topLeft","topCenter","center"],V={info:{color:"blue",icon:"ico-info"},success:{color:"green",icon:"ico-success"},warning:{color:"orange",icon:"ico-warning"},error:{color:"red",icon:"ico-error"},question:{color:"yellow",icon:"ico-question"}},Y=568,b={};w.children={};var H={id:null,class:"",title:"",titleColor:"",titleSize:"",titleLineHeight:"",message:"",messageColor:"",messageSize:"",messageLineHeight:"",backgroundColor:"",theme:"light",color:"",icon:"",iconText:"",iconColor:"",iconUrl:null,image:"",imageWidth:50,maxWidth:null,zindex:null,layout:1,balloon:!1,close:!0,closeOnEscape:!1,closeOnClick:!1,displayMode:0,position:"bottomRight",target:"",targetFirst:!0,timeout:5e3,rtl:!1,animateInside:!0,drag:!0,pauseOnHover:!0,resetOnHover:!1,progressBar:!0,progressBarColor:"",progressBarEasing:"linear",overlay:!1,overlayClose:!1,overlayColor:"rgba(0, 0, 0, 0.6)",transitionIn:"fadeInUp",transitionOut:"fadeOut",transitionInMobile:"fadeInUp",transitionOutMobile:"fadeOutDown",buttons:{},inputs:{},onOpening:function(){},onOpened:function(){},onClosing:function(){},onClosed:function(){}};if("remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),typeof window.CustomEvent!="function"){var F=function(a,n){n=n||{bubbles:!1,cancelable:!1,detail:void 0};var e=document.createEvent("CustomEvent");return e.initCustomEvent(a,n.bubbles,n.cancelable,n.detail),e};F.prototype=window.Event.prototype,window.CustomEvent=F}var h=function(a,n,e){if(Object.prototype.toString.call(a)==="[object Object]")for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&n.call(e,a[i],i,a);else if(a)for(var u=0,m=a.length;u<m;u++)n.call(e,a[u],u,a)},d=function(a,n){var e={};return h(a,function(i,u){e[u]=a[u]}),h(n,function(i,u){e[u]=n[u]}),e},t=function(a){var n=document.createDocumentFragment(),e=document.createElement("div");for(e.innerHTML=a;e.firstChild;)n.appendChild(e.firstChild);return n},o=function(a){var n=btoa(encodeURIComponent(a));return n.replace(/=/g,"")},s=function(a){return a.substring(0,1)=="#"||a.substring(0,3)=="rgb"||a.substring(0,3)=="hsl"},f=function(a){try{return btoa(atob(a))==a}catch{return!1}},p=function(){return{move:function(a,n,e,i){var u,m=.3,l=180;i!==0&&(a.classList.add(c+"-dragged"),a.style.transform="translateX("+i+"px)",i>0?(u=(l-i)/l,u<m&&n.hide(d(e,{transitionOut:"fadeOutRight",transitionOutMobile:"fadeOutRight"}),a,"drag")):(u=(l+i)/l,u<m&&n.hide(d(e,{transitionOut:"fadeOutLeft",transitionOutMobile:"fadeOutLeft"}),a,"drag")),a.style.opacity=u,u<m&&((E||G)&&(a.style.left=i+"px"),a.parentNode.style.opacity=m,this.stopMoving(a,null)))},startMoving:function(a,n,e,i){i=i||window.event;var u=T?i.touches[0].clientX:i.clientX,m=a.style.transform.replace("px)","");m=m.replace("translateX(","");var l=u-m;e.transitionIn&&a.classList.remove(e.transitionIn),e.transitionInMobile&&a.classList.remove(e.transitionInMobile),a.style.transition="",T?document.ontouchmove=function(g){g.preventDefault(),g=g||window.event;var C=g.touches[0].clientX,I=C-l;p.move(a,n,e,I)}:document.onmousemove=function(g){g.preventDefault(),g=g||window.event;var C=g.clientX,I=C-l;p.move(a,n,e,I)}},stopMoving:function(a,n){T?document.ontouchmove=function(){}:document.onmousemove=function(){},a.style.opacity="",a.style.transform="",a.classList.contains(c+"-dragged")&&(a.classList.remove(c+"-dragged"),a.style.transition="transform 0.4s ease, opacity 0.4s ease",setTimeout(function(){a.style.transition=""},400))}}}();return w.setSetting=function(a,n,e){w.children[a][n]=e},w.getSetting=function(a,n){return w.children[a][n]},w.destroy=function(){h(document.querySelectorAll("."+c+"-overlay"),function(a,n){a.remove()}),h(document.querySelectorAll("."+c+"-wrapper"),function(a,n){a.remove()}),h(document.querySelectorAll("."+c),function(a,n){a.remove()}),this.children={},document.removeEventListener(c+"-opened",{},!1),document.removeEventListener(c+"-opening",{},!1),document.removeEventListener(c+"-closing",{},!1),document.removeEventListener(c+"-closed",{},!1),document.removeEventListener("keyup",{},!1),b={}},w.settings=function(a){w.destroy(),b=a,H=d(H,a||{})},h(V,function(a,n){w[n]=function(e){var i=d(b,e||{});i=d(a,i||{}),this.show(i)}}),w.progress=function(a,n,e){var i=this,u=n.getAttribute("data-iziToast-ref"),m=d(this.children[u],a||{}),l=n.querySelector("."+c+"-progressbar div");return{start:function(){typeof m.time.REMAINING>"u"&&(n.classList.remove(c+"-reseted"),l!==null&&(l.style.transition="width "+m.timeout+"ms "+m.progressBarEasing,l.style.width="0%"),m.time.START=new Date().getTime(),m.time.END=m.time.START+m.timeout,m.time.TIMER=setTimeout(function(){clearTimeout(m.time.TIMER),n.classList.contains(c+"-closing")||(i.hide(m,n,"timeout"),typeof e=="function"&&e.apply(i))},m.timeout),i.setSetting(u,"time",m.time))},pause:function(){if(typeof m.time.START<"u"&&!n.classList.contains(c+"-paused")&&!n.classList.contains(c+"-reseted")){if(n.classList.add(c+"-paused"),m.time.REMAINING=m.time.END-new Date().getTime(),clearTimeout(m.time.TIMER),i.setSetting(u,"time",m.time),l!==null){var g=window.getComputedStyle(l),C=g.getPropertyValue("width");l.style.transition="none",l.style.width=C}typeof e=="function"&&setTimeout(function(){e.apply(i)},10)}},resume:function(){typeof m.time.REMAINING<"u"?(n.classList.remove(c+"-paused"),l!==null&&(l.style.transition="width "+m.time.REMAINING+"ms "+m.progressBarEasing,l.style.width="0%"),m.time.END=new Date().getTime()+m.time.REMAINING,m.time.TIMER=setTimeout(function(){clearTimeout(m.time.TIMER),n.classList.contains(c+"-closing")||(i.hide(m,n,"timeout"),typeof e=="function"&&e.apply(i))},m.time.REMAINING),i.setSetting(u,"time",m.time)):this.start()},reset:function(){clearTimeout(m.time.TIMER),delete m.time.REMAINING,i.setSetting(u,"time",m.time),n.classList.add(c+"-reseted"),n.classList.remove(c+"-paused"),l!==null&&(l.style.transition="none",l.style.width="100%"),typeof e=="function"&&setTimeout(function(){e.apply(i)},10)}}},w.hide=function(a,n,e){typeof n!="object"&&(n=document.querySelector(n));var i=this,u=d(this.children[n.getAttribute("data-iziToast-ref")],a||{});u.closedBy=e||null,delete u.time.REMAINING,n.classList.add(c+"-closing"),function(){var g=document.querySelector("."+c+"-overlay");if(g!==null){var C=g.getAttribute("data-iziToast-ref");C=C.split(",");var I=C.indexOf(String(u.ref));I!==-1&&C.splice(I,1),g.setAttribute("data-iziToast-ref",C.join()),C.length===0&&(g.classList.remove("fadeIn"),g.classList.add("fadeOut"),setTimeout(function(){g.remove()},700))}}(),u.transitionIn&&n.classList.remove(u.transitionIn),u.transitionInMobile&&n.classList.remove(u.transitionInMobile),N||window.innerWidth<=Y?u.transitionOutMobile&&n.classList.add(u.transitionOutMobile):u.transitionOut&&n.classList.add(u.transitionOut);var m=n.parentNode.offsetHeight;n.parentNode.style.height=m+"px",n.style.pointerEvents="none",(!N||window.innerWidth>Y)&&(n.parentNode.style.transitionDelay="0.2s");try{var l=new CustomEvent(c+"-closing",{detail:u,bubbles:!0,cancelable:!0});document.dispatchEvent(l)}catch(g){console.warn(g)}setTimeout(function(){n.parentNode.style.height="0px",n.parentNode.style.overflow="",setTimeout(function(){delete i.children[u.ref],n.parentNode.remove();try{var g=new CustomEvent(c+"-closed",{detail:u,bubbles:!0,cancelable:!0});document.dispatchEvent(g)}catch(C){console.warn(C)}typeof u.onClosed<"u"&&u.onClosed.apply(null,[u,n,e])},1e3)},200),typeof u.onClosing<"u"&&u.onClosing.apply(null,[u,n,e])},w.show=function(a){var n=this,e=d(b,a||{});if(e=d(H,e),e.time={},e.id===null&&(e.id=o(e.title+e.message+e.color)),e.displayMode===1||e.displayMode=="once")try{if(document.querySelectorAll("."+c+"#"+e.id).length>0)return!1}catch{console.warn("["+c+"] Could not find an element with this selector: #"+e.id+". Try to set an valid id.")}if(e.displayMode===2||e.displayMode=="replace")try{h(document.querySelectorAll("."+c+"#"+e.id),function(l,g){n.hide(e,l,"replaced")})}catch{console.warn("["+c+"] Could not find an element with this selector: #"+e.id+". Try to set an valid id.")}e.ref=new Date().getTime()+Math.floor(Math.random()*1e7+1),w.children[e.ref]=e;var i={body:document.querySelector("body"),overlay:document.createElement("div"),toast:document.createElement("div"),toastBody:document.createElement("div"),toastTexts:document.createElement("div"),toastCapsule:document.createElement("div"),cover:document.createElement("div"),buttons:document.createElement("div"),inputs:document.createElement("div"),icon:e.iconUrl?document.createElement("img"):document.createElement("i"),wrapper:null};i.toast.setAttribute("data-iziToast-ref",e.ref),i.toast.appendChild(i.toastBody),i.toastCapsule.appendChild(i.toast),function(){if(i.toast.classList.add(c),i.toast.classList.add(c+"-opening"),i.toastCapsule.classList.add(c+"-capsule"),i.toastBody.classList.add(c+"-body"),i.toastTexts.classList.add(c+"-texts"),N||window.innerWidth<=Y?e.transitionInMobile&&i.toast.classList.add(e.transitionInMobile):e.transitionIn&&i.toast.classList.add(e.transitionIn),e.class){var l=e.class.split(" ");h(l,function(g,C){i.toast.classList.add(g)})}e.id&&(i.toast.id=e.id),e.rtl&&(i.toast.classList.add(c+"-rtl"),i.toast.setAttribute("dir","rtl")),e.layout>1&&i.toast.classList.add(c+"-layout"+e.layout),e.balloon&&i.toast.classList.add(c+"-balloon"),e.maxWidth&&(isNaN(e.maxWidth)?i.toast.style.maxWidth=e.maxWidth:i.toast.style.maxWidth=e.maxWidth+"px"),(e.theme!==""||e.theme!=="light")&&i.toast.classList.add(c+"-theme-"+e.theme),e.color&&(s(e.color)?i.toast.style.background=e.color:i.toast.classList.add(c+"-color-"+e.color)),e.backgroundColor&&(i.toast.style.background=e.backgroundColor,e.balloon&&(i.toast.style.borderColor=e.backgroundColor))}(),function(){e.image&&(i.cover.classList.add(c+"-cover"),i.cover.style.width=e.imageWidth+"px",f(e.image.replace(/ /g,""))?i.cover.style.backgroundImage="url(data:image/png;base64,"+e.image.replace(/ /g,"")+")":i.cover.style.backgroundImage="url("+e.image+")",e.rtl?i.toastBody.style.marginRight=e.imageWidth+10+"px":i.toastBody.style.marginLeft=e.imageWidth+10+"px",i.toast.appendChild(i.cover))}(),function(){e.close?(i.buttonClose=document.createElement("button"),i.buttonClose.type="button",i.buttonClose.classList.add(c+"-close"),i.buttonClose.addEventListener("click",function(l){l.target,n.hide(e,i.toast,"button")}),i.toast.appendChild(i.buttonClose)):e.rtl?i.toast.style.paddingLeft="18px":i.toast.style.paddingRight="18px"}(),function(){e.progressBar&&(i.progressBar=document.createElement("div"),i.progressBarDiv=document.createElement("div"),i.progressBar.classList.add(c+"-progressbar"),i.progressBarDiv.style.background=e.progressBarColor,i.progressBar.appendChild(i.progressBarDiv),i.toast.appendChild(i.progressBar)),e.timeout&&(e.pauseOnHover&&!e.resetOnHover&&(i.toast.addEventListener("mouseenter",function(l){n.progress(e,i.toast).pause()}),i.toast.addEventListener("mouseleave",function(l){n.progress(e,i.toast).resume()})),e.resetOnHover&&(i.toast.addEventListener("mouseenter",function(l){n.progress(e,i.toast).reset()}),i.toast.addEventListener("mouseleave",function(l){n.progress(e,i.toast).start()})))}(),function(){e.iconUrl?(i.icon.setAttribute("class",c+"-icon"),i.icon.setAttribute("src",e.iconUrl)):e.icon&&(i.icon.setAttribute("class",c+"-icon "+e.icon),e.iconText&&i.icon.appendChild(document.createTextNode(e.iconText)),e.iconColor&&(i.icon.style.color=e.iconColor)),(e.icon||e.iconUrl)&&(e.rtl?i.toastBody.style.paddingRight="33px":i.toastBody.style.paddingLeft="33px",i.toastBody.appendChild(i.icon))}(),function(){e.title.length>0&&(i.strong=document.createElement("strong"),i.strong.classList.add(c+"-title"),i.strong.appendChild(t(e.title)),i.toastTexts.appendChild(i.strong),e.titleColor&&(i.strong.style.color=e.titleColor),e.titleSize&&(isNaN(e.titleSize)?i.strong.style.fontSize=e.titleSize:i.strong.style.fontSize=e.titleSize+"px"),e.titleLineHeight&&(isNaN(e.titleSize)?i.strong.style.lineHeight=e.titleLineHeight:i.strong.style.lineHeight=e.titleLineHeight+"px")),e.message.length>0&&(i.p=document.createElement("p"),i.p.classList.add(c+"-message"),i.p.appendChild(t(e.message)),i.toastTexts.appendChild(i.p),e.messageColor&&(i.p.style.color=e.messageColor),e.messageSize&&(isNaN(e.titleSize)?i.p.style.fontSize=e.messageSize:i.p.style.fontSize=e.messageSize+"px"),e.messageLineHeight&&(isNaN(e.titleSize)?i.p.style.lineHeight=e.messageLineHeight:i.p.style.lineHeight=e.messageLineHeight+"px")),e.title.length>0&&e.message.length>0&&(e.rtl?i.strong.style.marginLeft="10px":e.layout!==2&&!e.rtl&&(i.strong.style.marginRight="10px"))}(),i.toastBody.appendChild(i.toastTexts);var u;(function(){e.inputs.length>0&&(i.inputs.classList.add(c+"-inputs"),h(e.inputs,function(l,g){i.inputs.appendChild(t(l[0])),u=i.inputs.childNodes,u[g].classList.add(c+"-inputs-child"),l[3]&&setTimeout(function(){u[g].focus()},300),u[g].addEventListener(l[1],function(C){var I=l[2];return I(n,i.toast,this,C)})}),i.toastBody.appendChild(i.inputs))})(),function(){e.buttons.length>0&&(i.buttons.classList.add(c+"-buttons"),h(e.buttons,function(l,g){i.buttons.appendChild(t(l[0]));var C=i.buttons.childNodes;C[g].classList.add(c+"-buttons-child"),l[2]&&setTimeout(function(){C[g].focus()},300),C[g].addEventListener("click",function(I){I.preventDefault();var P=l[1];return P(n,i.toast,this,I,u)})})),i.toastBody.appendChild(i.buttons)}(),e.message.length>0&&(e.inputs.length>0||e.buttons.length>0)&&(i.p.style.marginBottom="0"),(e.inputs.length>0||e.buttons.length>0)&&(e.rtl?i.toastTexts.style.marginLeft="10px":i.toastTexts.style.marginRight="10px",e.inputs.length>0&&e.buttons.length>0&&(e.rtl?i.inputs.style.marginLeft="8px":i.inputs.style.marginRight="8px")),function(){i.toastCapsule.style.visibility="hidden",setTimeout(function(){var l=i.toast.offsetHeight,g=i.toast.currentStyle||window.getComputedStyle(i.toast),C=g.marginTop;C=C.split("px"),C=parseInt(C[0]);var I=g.marginBottom;I=I.split("px"),I=parseInt(I[0]),i.toastCapsule.style.visibility="",i.toastCapsule.style.height=l+I+C+"px",setTimeout(function(){i.toastCapsule.style.height="auto",e.target&&(i.toastCapsule.style.overflow="visible")},500),e.timeout&&n.progress(e,i.toast).start()},100)}(),function(){var l=e.position;if(e.target)i.wrapper=document.querySelector(e.target),i.wrapper.classList.add(c+"-target"),e.targetFirst?i.wrapper.insertBefore(i.toastCapsule,i.wrapper.firstChild):i.wrapper.appendChild(i.toastCapsule);else{if(B.indexOf(e.position)==-1){console.warn("["+c+`] Incorrect position.
It can be › `+B);return}N||window.innerWidth<=Y?e.position=="bottomLeft"||e.position=="bottomRight"||e.position=="bottomCenter"?l=c+"-wrapper-bottomCenter":e.position=="topLeft"||e.position=="topRight"||e.position=="topCenter"?l=c+"-wrapper-topCenter":l=c+"-wrapper-center":l=c+"-wrapper-"+l,i.wrapper=document.querySelector("."+c+"-wrapper."+l),i.wrapper||(i.wrapper=document.createElement("div"),i.wrapper.classList.add(c+"-wrapper"),i.wrapper.classList.add(l),document.body.appendChild(i.wrapper)),e.position=="topLeft"||e.position=="topCenter"||e.position=="topRight"?i.wrapper.insertBefore(i.toastCapsule,i.wrapper.firstChild):i.wrapper.appendChild(i.toastCapsule)}isNaN(e.zindex)?console.warn("["+c+"] Invalid zIndex."):i.wrapper.style.zIndex=e.zindex}(),function(){e.overlay&&(document.querySelector("."+c+"-overlay.fadeIn")!==null?(i.overlay=document.querySelector("."+c+"-overlay"),i.overlay.setAttribute("data-iziToast-ref",i.overlay.getAttribute("data-iziToast-ref")+","+e.ref),!isNaN(e.zindex)&&e.zindex!==null&&(i.overlay.style.zIndex=e.zindex-1)):(i.overlay.classList.add(c+"-overlay"),i.overlay.classList.add("fadeIn"),i.overlay.style.background=e.overlayColor,i.overlay.setAttribute("data-iziToast-ref",e.ref),!isNaN(e.zindex)&&e.zindex!==null&&(i.overlay.style.zIndex=e.zindex-1),document.querySelector("body").appendChild(i.overlay)),e.overlayClose?(i.overlay.removeEventListener("click",{}),i.overlay.addEventListener("click",function(l){n.hide(e,i.toast,"overlay")})):i.overlay.removeEventListener("click",{}))}(),function(){if(e.animateInside){i.toast.classList.add(c+"-animateInside");var l=[200,100,300];(e.transitionIn=="bounceInLeft"||e.transitionIn=="bounceInRight")&&(l=[400,200,400]),e.title.length>0&&setTimeout(function(){i.strong.classList.add("slideIn")},l[0]),e.message.length>0&&setTimeout(function(){i.p.classList.add("slideIn")},l[1]),(e.icon||e.iconUrl)&&setTimeout(function(){i.icon.classList.add("revealIn")},l[2]);var g=150;e.buttons.length>0&&i.buttons&&setTimeout(function(){h(i.buttons.childNodes,function(C,I){setTimeout(function(){C.classList.add("revealIn")},g),g=g+150})},e.inputs.length>0?150:0),e.inputs.length>0&&i.inputs&&(g=150,h(i.inputs.childNodes,function(C,I){setTimeout(function(){C.classList.add("revealIn")},g),g=g+150}))}}(),e.onOpening.apply(null,[e,i.toast]);try{var m=new CustomEvent(c+"-opening",{detail:e,bubbles:!0,cancelable:!0});document.dispatchEvent(m)}catch(l){console.warn(l)}setTimeout(function(){i.toast.classList.remove(c+"-opening"),i.toast.classList.add(c+"-opened");try{var l=new CustomEvent(c+"-opened",{detail:e,bubbles:!0,cancelable:!0});document.dispatchEvent(l)}catch(g){console.warn(g)}e.onOpened.apply(null,[e,i.toast])},1e3),e.drag&&(T?(i.toast.addEventListener("touchstart",function(l){p.startMoving(this,n,e,l)},!1),i.toast.addEventListener("touchend",function(l){p.stopMoving(this,l)},!1)):(i.toast.addEventListener("mousedown",function(l){l.preventDefault(),p.startMoving(this,n,e,l)},!1),i.toast.addEventListener("mouseup",function(l){l.preventDefault(),p.stopMoving(this,l)},!1))),e.closeOnEscape&&document.addEventListener("keyup",function(l){l=l||window.event,l.keyCode==27&&n.hide(e,i.toast,"esc")}),e.closeOnClick&&i.toast.addEventListener("click",function(l){n.hide(e,i.toast,"toast")}),n.toast=i.toast},w})}(q)),q.exports}var Ct=yt();const A=ct(Ct);var K={},lt;function bt(){return lt||(lt=1,function(r){/*!
	By André Rinas, www.andrerinas.de
	Documentation, www.simplelightbox.com
	Available for use under the MIT License
	Version 2.14.3
*/Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;function v(h){"@babel/helpers - typeof";return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},v(h)}function y(h,d){var t=typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(!t){if(Array.isArray(h)||(t=N(h))||d){t&&(h=t);var o=0,s=function(){};return{s,n:function(){return o>=h.length?{done:!0}:{done:!1,value:h[o++]}},e:function(e){throw e},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var f=!0,p=!1,a;return{s:function(){t=t.call(h)},n:function(){var e=t.next();return f=e.done,e},e:function(e){p=!0,a=e},f:function(){try{!f&&t.return!=null&&t.return()}finally{if(p)throw a}}}}function w(h){return G(h)||E(h)||N(h)||c()}function c(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N(h,d){if(h){if(typeof h=="string")return T(h,d);var t=Object.prototype.toString.call(h).slice(8,-1);if(t==="Object"&&h.constructor&&(t=h.constructor.name),t==="Map"||t==="Set")return Array.from(h);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return T(h,d)}}function E(h){if(typeof Symbol<"u"&&h[Symbol.iterator]!=null||h["@@iterator"]!=null)return Array.from(h)}function G(h){if(Array.isArray(h))return T(h)}function T(h,d){(d==null||d>h.length)&&(d=h.length);for(var t=0,o=new Array(d);t<d;t++)o[t]=h[t];return o}function B(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}function V(h,d){for(var t=0;t<d.length;t++){var o=d[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(h,o.key,o)}}function Y(h,d,t){return d&&V(h.prototype,d),Object.defineProperty(h,"prototype",{writable:!1}),h}function b(h,d,t){return d in h?Object.defineProperty(h,d,{value:t,enumerable:!0,configurable:!0,writable:!0}):h[d]=t,h}var H=function(){function h(d,t){var o=this;if(B(this,h),b(this,"defaultOptions",{sourceAttr:"href",overlay:!0,overlayOpacity:.7,spinner:!0,nav:!0,navText:["&lsaquo;","&rsaquo;"],captions:!0,captionDelay:0,captionSelector:"img",captionType:"attr",captionsData:"title",captionPosition:"bottom",captionClass:"",captionHTML:!0,close:!0,closeText:"&times;",swipeClose:!0,showCounter:!0,fileExt:"png|jpg|jpeg|gif|webp|avif",animationSlide:!0,animationSpeed:250,preloading:!0,enableKeyboard:!0,loop:!0,rel:!1,docClose:!0,swipeTolerance:50,className:"simple-lightbox",widthRatio:.8,heightRatio:.9,scaleImageToRatio:!1,disableRightClick:!1,disableScroll:!0,alertError:!0,alertErrorMessage:"Image not found, next image will be loaded",additionalHtml:!1,history:!0,throttleInterval:0,doubleTapZoom:2,maxZoom:10,htmlClass:"has-lightbox",rtl:!1,fixedClass:"sl-fixed",fadeSpeed:300,uniqueImages:!0,focus:!0,scrollZoom:!0,scrollZoomFactor:.5,download:!1}),b(this,"transitionPrefix",void 0),b(this,"isPassiveEventsSupported",void 0),b(this,"transitionCapable",!1),b(this,"isTouchDevice","ontouchstart"in window),b(this,"isAppleDevice",/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),b(this,"initialLocationHash",void 0),b(this,"pushStateSupport","pushState"in history),b(this,"isOpen",!1),b(this,"isAnimating",!1),b(this,"isClosing",!1),b(this,"isFadeIn",!1),b(this,"urlChangedOnce",!1),b(this,"hashReseted",!1),b(this,"historyHasChanges",!1),b(this,"historyUpdateTimeout",null),b(this,"currentImage",void 0),b(this,"eventNamespace","simplelightbox"),b(this,"domNodes",{}),b(this,"loadedImages",[]),b(this,"initialImageIndex",0),b(this,"currentImageIndex",0),b(this,"initialSelector",null),b(this,"globalScrollbarWidth",0),b(this,"controlCoordinates",{swipeDiff:0,swipeYDiff:0,swipeStart:0,swipeEnd:0,swipeYStart:0,swipeYEnd:0,mousedown:!1,imageLeft:0,zoomed:!1,containerHeight:0,containerWidth:0,containerOffsetX:0,containerOffsetY:0,imgHeight:0,imgWidth:0,capture:!1,initialOffsetX:0,initialOffsetY:0,initialPointerOffsetX:0,initialPointerOffsetY:0,initialPointerOffsetX2:0,initialPointerOffsetY2:0,initialScale:1,initialPinchDistance:0,pointerOffsetX:0,pointerOffsetY:0,pointerOffsetX2:0,pointerOffsetY2:0,targetOffsetX:0,targetOffsetY:0,targetScale:0,pinchOffsetX:0,pinchOffsetY:0,limitOffsetX:0,limitOffsetY:0,scaleDifference:0,targetPinchDistance:0,touchCount:0,doubleTapped:!1,touchmoveCount:0}),this.options=Object.assign(this.defaultOptions,t),this.isPassiveEventsSupported=this.checkPassiveEventsSupport(),typeof d=="string"?(this.initialSelector=d,this.elements=Array.from(document.querySelectorAll(d))):this.elements=typeof d.length<"u"&&d.length>0?Array.from(d):[d],this.relatedElements=[],this.transitionPrefix=this.calculateTransitionPrefix(),this.transitionCapable=this.transitionPrefix!==!1,this.initialLocationHash=this.hash,this.options.rel&&(this.elements=this.getRelated(this.options.rel)),this.options.uniqueImages){var s=[];this.elements=Array.from(this.elements).filter(function(f){var p=f.getAttribute(o.options.sourceAttr);return s.indexOf(p)===-1?(s.push(p),!0):!1})}this.createDomNodes(),this.options.close&&this.domNodes.wrapper.appendChild(this.domNodes.closeButton),this.options.nav&&this.domNodes.wrapper.appendChild(this.domNodes.navigation),this.options.spinner&&this.domNodes.wrapper.appendChild(this.domNodes.spinner),this.addEventListener(this.elements,"click."+this.eventNamespace,function(f){if(o.isValidLink(f.currentTarget)){if(f.preventDefault(),o.isAnimating)return!1;o.initialImageIndex=o.elements.indexOf(f.currentTarget),o.openImage(f.currentTarget)}}),this.options.docClose&&this.addEventListener(this.domNodes.wrapper,["click."+this.eventNamespace,"touchstart."+this.eventNamespace],function(f){o.isOpen&&f.target===f.currentTarget&&o.close()}),this.options.disableRightClick&&this.addEventListener(document.body,"contextmenu."+this.eventNamespace,function(f){f.target.parentElement.classList.contains("sl-image")&&f.preventDefault()}),this.options.enableKeyboard&&this.addEventListener(document.body,"keyup."+this.eventNamespace,this.throttle(function(f){if(o.controlCoordinates.swipeDiff=0,o.isAnimating&&f.key==="Escape"){o.currentImage.setAttribute("src",""),o.isAnimating=!1,o.close();return}o.isOpen&&(f.preventDefault(),f.key==="Escape"&&o.close(),!o.isAnimating&&["ArrowLeft","ArrowRight"].indexOf(f.key)>-1&&o.loadImage(f.key==="ArrowRight"?1:-1))},this.options.throttleInterval)),this.addEvents()}return Y(h,[{key:"checkPassiveEventsSupport",value:function(){var t=!1;try{var o=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassive",null,o),window.removeEventListener("testPassive",null,o)}catch{}return t}},{key:"getCaptionElement",value:function(t){if(this.options.captionSelector.startsWith("+")){var o=this.options.captionSelector.replace(/^\+/,"").trimStart(),s=t.nextElementSibling;return s&&s.matches(o)?s:!1}else if(this.options.captionSelector.startsWith(">")){var f=this.options.captionSelector.replace(/^>/,"").trimStart();return t.querySelector(f)}else return t.querySelector(this.options.captionSelector)}},{key:"generateQuerySelector",value:function(t){var o=t.tagName,s=t.id,f=t.className,p=t.parentNode;if(o==="HTML")return"HTML";var a=o;if(a+=s!==""?"#".concat(s):"",f)for(var n=f.trim().split(/\s/),e=0;e<n.length;e++)a+=".".concat(n[e]);for(var i=1,u=t;u.previousElementSibling;u=u.previousElementSibling)i+=1;return a+=":nth-child(".concat(i,")"),"".concat(this.generateQuerySelector(p)," > ").concat(a)}},{key:"createDomNodes",value:function(){if(this.domNodes.overlay=document.createElement("div"),this.domNodes.overlay.classList.add("sl-overlay"),this.domNodes.overlay.dataset.opacityTarget=this.options.overlayOpacity,this.domNodes.closeButton=document.createElement("button"),this.domNodes.closeButton.classList.add("sl-close"),this.domNodes.closeButton.innerHTML=this.options.closeText,this.domNodes.spinner=document.createElement("div"),this.domNodes.spinner.classList.add("sl-spinner"),this.domNodes.spinner.innerHTML="<div></div>",this.domNodes.navigation=document.createElement("div"),this.domNodes.navigation.classList.add("sl-navigation"),this.domNodes.navigation.innerHTML='<button class="sl-prev">'.concat(this.options.navText[0],'</button><button class="sl-next">').concat(this.options.navText[1],"</button>"),this.domNodes.counter=document.createElement("div"),this.domNodes.counter.classList.add("sl-counter"),this.domNodes.counter.innerHTML='<span class="sl-current"></span>/<span class="sl-total"></span>',this.domNodes.download=document.createElement("div"),this.domNodes.download.classList.add("sl-download"),this.domNodes.downloadLink=document.createElement("a"),this.domNodes.downloadLink.setAttribute("download",""),this.domNodes.downloadLink.textContent=this.options.download,this.domNodes.download.appendChild(this.domNodes.downloadLink),this.domNodes.caption=document.createElement("div"),this.domNodes.caption.classList.add("sl-caption","pos-"+this.options.captionPosition),this.options.captionClass){var t,o=this.options.captionClass.split(/[\s,]+/);(t=this.domNodes.caption.classList).add.apply(t,w(o))}this.domNodes.image=document.createElement("div"),this.domNodes.image.classList.add("sl-image"),this.domNodes.wrapper=document.createElement("div"),this.domNodes.wrapper.classList.add("sl-wrapper"),this.domNodes.wrapper.setAttribute("tabindex",-1),this.domNodes.wrapper.setAttribute("role","dialog"),this.domNodes.wrapper.setAttribute("aria-hidden",!1),this.options.className&&this.domNodes.wrapper.classList.add(this.options.className),this.options.rtl&&this.domNodes.wrapper.classList.add("sl-dir-rtl")}},{key:"throttle",value:function(t,o){var s;return function(){s||(t.apply(this,arguments),s=!0,setTimeout(function(){return s=!1},o))}}},{key:"isValidLink",value:function(t){return!this.options.fileExt||t.getAttribute(this.options.sourceAttr)&&new RegExp("("+this.options.fileExt+")($|\\?.*$)","i").test(t.getAttribute(this.options.sourceAttr))}},{key:"calculateTransitionPrefix",value:function(){var t=(document.body||document.documentElement).style;return"transition"in t?"":"WebkitTransition"in t?"-webkit-":"MozTransition"in t?"-moz-":"OTransition"in t?"-o":!1}},{key:"getScrollbarWidth",value:function(){var t=0,o=document.createElement("div");return o.classList.add("sl-scrollbar-measure"),document.body.appendChild(o),t=o.offsetWidth-o.clientWidth,document.body.removeChild(o),t}},{key:"toggleScrollbar",value:function(t){var o=0,s=[].slice.call(document.querySelectorAll("."+this.options.fixedClass));if(t==="hide"){var f=window.innerWidth;if(!f){var p=document.documentElement.getBoundingClientRect();f=p.right-Math.abs(p.left)}if(document.body.clientWidth<f||this.isAppleDevice){var a=parseInt(window.getComputedStyle(document.body).paddingRight||0,10);o=this.getScrollbarWidth(),document.body.dataset.originalPaddingRight=a,(o>0||o==0&&this.isAppleDevice)&&(document.body.classList.add("hidden-scroll"),document.body.style.paddingRight=a+o+"px",s.forEach(function(n){var e=n.style.paddingRight,i=window.getComputedStyle(n)["padding-right"];n.dataset.originalPaddingRight=e,n.style.paddingRight="".concat(parseFloat(i)+o,"px")}))}}else document.body.classList.remove("hidden-scroll"),document.body.style.paddingRight=document.body.dataset.originalPaddingRight+"px",s.forEach(function(n){var e=n.dataset.originalPaddingRight;typeof e<"u"&&(n.style.paddingRight=e)});return o}},{key:"close",value:function(){var t=this;if(!this.isOpen||this.isAnimating||this.isClosing)return!1;this.isClosing=!0;var o=this.relatedElements[this.currentImageIndex];o.dispatchEvent(new Event("close.simplelightbox")),this.options.history&&(this.historyHasChanges=!1,this.hashReseted||this.resetHash()),this.removeEventListener(document,"focusin."+this.eventNamespace),this.fadeOut(this.domNodes.overlay,this.options.fadeSpeed),this.fadeOut(document.querySelectorAll(".sl-image img,  .sl-close, .sl-navigation, .sl-image .sl-caption, .sl-counter"),this.options.fadeSpeed,function(){t.options.disableScroll&&t.toggleScrollbar("show"),t.options.htmlClass&&t.options.htmlClass!==""&&document.querySelector("html").classList.remove(t.options.htmlClass),document.body.removeChild(t.domNodes.wrapper),t.options.overlay&&document.body.removeChild(t.domNodes.overlay),t.domNodes.additionalHtml=null,t.domNodes.download=null,o.dispatchEvent(new Event("closed.simplelightbox")),t.isClosing=!1}),this.currentImage=null,this.isOpen=!1,this.isAnimating=!1;for(var s in this.controlCoordinates)this.controlCoordinates[s]=0;this.controlCoordinates.mousedown=!1,this.controlCoordinates.zoomed=!1,this.controlCoordinates.capture=!1,this.controlCoordinates.initialScale=this.minMax(1,1,this.options.maxZoom),this.controlCoordinates.doubleTapped=!1}},{key:"hash",get:function(){return window.location.hash.substring(1)}},{key:"preload",value:function(){var t=this,o=this.currentImageIndex,s=this.relatedElements.length,f=o+1<0?s-1:o+1>=s-1?0:o+1,p=o-1<0?s-1:o-1>=s-1?0:o-1,a=new Image,n=new Image;a.addEventListener("load",function(e){var i=e.target.getAttribute("src");t.loadedImages.indexOf(i)===-1&&t.loadedImages.push(i),t.relatedElements[o].dispatchEvent(new Event("nextImageLoaded."+t.eventNamespace))}),a.setAttribute("src",this.relatedElements[f].getAttribute(this.options.sourceAttr)),n.addEventListener("load",function(e){var i=e.target.getAttribute("src");t.loadedImages.indexOf(i)===-1&&t.loadedImages.push(i),t.relatedElements[o].dispatchEvent(new Event("prevImageLoaded."+t.eventNamespace))}),n.setAttribute("src",this.relatedElements[p].getAttribute(this.options.sourceAttr))}},{key:"loadImage",value:function(t){var o=this,s=t;this.options.rtl&&(t=-t),this.relatedElements[this.currentImageIndex].dispatchEvent(new Event("change."+this.eventNamespace)),this.relatedElements[this.currentImageIndex].dispatchEvent(new Event((t===1?"next":"prev")+"."+this.eventNamespace));var f=this.currentImageIndex+t;if(this.isAnimating||(f<0||f>=this.relatedElements.length)&&this.options.loop===!1)return!1;this.currentImageIndex=f<0?this.relatedElements.length-1:f>this.relatedElements.length-1?0:f,this.domNodes.counter.querySelector(".sl-current").innerHTML=this.currentImageIndex+1,this.options.animationSlide&&this.slide(this.options.animationSpeed/1e3,-100*s-this.controlCoordinates.swipeDiff+"px"),this.fadeOut(this.domNodes.image,this.options.fadeSpeed,function(){o.isAnimating=!0,o.isClosing?o.isAnimating=!1:setTimeout(function(){var p=o.relatedElements[o.currentImageIndex];o.currentImage&&(o.currentImage.setAttribute("src",p.getAttribute(o.options.sourceAttr)),o.loadedImages.indexOf(p.getAttribute(o.options.sourceAttr))===-1&&o.show(o.domNodes.spinner),o.domNodes.image.contains(o.domNodes.caption)&&o.domNodes.image.removeChild(o.domNodes.caption),o.adjustImage(s),o.options.preloading&&o.preload())},100)})}},{key:"adjustImage",value:function(t){var o=this;if(!this.currentImage)return!1;var s=new Image,f=window.innerWidth*this.options.widthRatio,p=window.innerHeight*this.options.heightRatio;s.setAttribute("src",this.currentImage.getAttribute("src")),this.currentImage.dataset.scale=1,this.currentImage.dataset.translateX=0,this.currentImage.dataset.translateY=0,this.zoomPanElement(0,0,1),s.addEventListener("error",function(a){o.relatedElements[o.currentImageIndex].dispatchEvent(new Event("error."+o.eventNamespace)),o.isAnimating=!1,o.isOpen=!0,o.domNodes.spinner.style.display="none";var n=t===1||t===-1;if(o.initialImageIndex===o.currentImageIndex&&n)return o.close();o.options.alertError&&alert(o.options.alertErrorMessage),o.loadImage(n?t:1)}),s.addEventListener("load",function(a){typeof t<"u"&&(o.relatedElements[o.currentImageIndex].dispatchEvent(new Event("changed."+o.eventNamespace)),o.relatedElements[o.currentImageIndex].dispatchEvent(new Event((t===1?"nextDone":"prevDone")+"."+o.eventNamespace))),o.options.history&&o.updateURL(),o.loadedImages.indexOf(o.currentImage.getAttribute("src"))===-1&&o.loadedImages.push(o.currentImage.getAttribute("src"));var n=a.target.width,e=a.target.height;if(o.options.scaleImageToRatio||n>f||e>p){var i=n/e>f/p?n/f:e/p;n/=i,e/=i}o.domNodes.image.style.top=(window.innerHeight-e)/2+"px",o.domNodes.image.style.left=(window.innerWidth-n-o.globalScrollbarWidth)/2+"px",o.domNodes.image.style.width=n+"px",o.domNodes.image.style.height=e+"px",o.domNodes.spinner.style.display="none",o.options.focus&&o.forceFocus(),o.fadeIn(o.currentImage,o.options.fadeSpeed,function(){o.options.focus&&o.domNodes.wrapper.focus()}),o.isOpen=!0;var u,m;typeof o.options.captionSelector=="string"?u=o.options.captionSelector==="self"?o.relatedElements[o.currentImageIndex]:o.getCaptionElement(o.relatedElements[o.currentImageIndex]):typeof o.options.captionSelector=="function"&&(u=o.options.captionSelector(o.relatedElements[o.currentImageIndex])),o.options.captions&&u&&(o.options.captionType==="data"?m=u.dataset[o.options.captionsData]:o.options.captionType==="text"?m=u.innerHTML:m=u.getAttribute(o.options.captionsData)),o.options.loop?o.relatedElements.length===1?o.hide(o.domNodes.navigation.querySelectorAll(".sl-prev, .sl-next")):o.show(o.domNodes.navigation.querySelectorAll(".sl-prev, .sl-next")):(o.currentImageIndex===0&&o.hide(o.domNodes.navigation.querySelector(".sl-prev")),o.currentImageIndex>=o.relatedElements.length-1&&o.hide(o.domNodes.navigation.querySelector(".sl-next")),o.currentImageIndex>0&&o.show(o.domNodes.navigation.querySelector(".sl-prev")),o.currentImageIndex<o.relatedElements.length-1&&o.show(o.domNodes.navigation.querySelector(".sl-next"))),t===1||t===-1?(o.options.animationSlide&&(o.slide(0,100*t+"px"),setTimeout(function(){o.slide(o.options.animationSpeed/1e3,"0px")},50)),o.fadeIn(o.domNodes.image,o.options.fadeSpeed,function(){o.isAnimating=!1,o.setCaption(m,n)})):(o.isAnimating=!1,o.setCaption(m,n)),o.options.additionalHtml&&!o.domNodes.additionalHtml&&(o.domNodes.additionalHtml=document.createElement("div"),o.domNodes.additionalHtml.classList.add("sl-additional-html"),o.domNodes.additionalHtml.innerHTML=o.options.additionalHtml,o.domNodes.image.appendChild(o.domNodes.additionalHtml)),o.options.download&&o.domNodes.downloadLink.setAttribute("href",o.currentImage.getAttribute("src"))})}},{key:"zoomPanElement",value:function(t,o,s){this.currentImage.style[this.transitionPrefix+"transform"]="translate("+t+","+o+") scale("+s+")"}},{key:"minMax",value:function(t,o,s){return t<o?o:t>s?s:t}},{key:"setZoomData",value:function(t,o,s){this.currentImage.dataset.scale=t,this.currentImage.dataset.translateX=o,this.currentImage.dataset.translateY=s}},{key:"hashchangeHandler",value:function(){this.isOpen&&this.hash===this.initialLocationHash&&(this.hashReseted=!0,this.close())}},{key:"addEvents",value:function(){var t=this;if(this.addEventListener(window,"resize."+this.eventNamespace,function(s){t.isOpen&&t.adjustImage()}),this.addEventListener(this.domNodes.closeButton,["click."+this.eventNamespace,"touchstart."+this.eventNamespace],this.close.bind(this)),this.options.history&&setTimeout(function(){t.addEventListener(window,"hashchange."+t.eventNamespace,function(s){t.isOpen&&t.hashchangeHandler()})},40),this.addEventListener(this.domNodes.navigation.getElementsByTagName("button"),"click."+this.eventNamespace,function(s){if(!s.currentTarget.tagName.match(/button/i))return!0;s.preventDefault(),t.controlCoordinates.swipeDiff=0,t.loadImage(s.currentTarget.classList.contains("sl-next")?1:-1)}),this.options.scrollZoom){var o=1;this.addEventListener(this.domNodes.image,["mousewheel","DOMMouseScroll"],function(s){if(t.controlCoordinates.mousedown||t.isAnimating||t.isClosing||!t.isOpen)return!0;t.controlCoordinates.containerHeight==0&&(t.controlCoordinates.containerHeight=t.getDimensions(t.domNodes.image).height,t.controlCoordinates.containerWidth=t.getDimensions(t.domNodes.image).width,t.controlCoordinates.imgHeight=t.getDimensions(t.currentImage).height,t.controlCoordinates.imgWidth=t.getDimensions(t.currentImage).width,t.controlCoordinates.containerOffsetX=t.domNodes.image.offsetLeft,t.controlCoordinates.containerOffsetY=t.domNodes.image.offsetTop,t.controlCoordinates.initialOffsetX=parseFloat(t.currentImage.dataset.translateX),t.controlCoordinates.initialOffsetY=parseFloat(t.currentImage.dataset.translateY));var f=s.delta||s.wheelDelta;f===void 0&&(f=s.detail),f=Math.max(-1,Math.min(1,f)),o+=f*t.options.scrollZoomFactor*o,o=Math.max(1,Math.min(t.options.maxZoom,o)),t.controlCoordinates.targetScale=o;var p=document.documentElement.scrollTop||document.body.scrollTop;t.controlCoordinates.pinchOffsetX=s.pageX,t.controlCoordinates.pinchOffsetY=s.pageY-p||0,t.controlCoordinates.limitOffsetX=(t.controlCoordinates.imgWidth*t.controlCoordinates.targetScale-t.controlCoordinates.containerWidth)/2,t.controlCoordinates.limitOffsetY=(t.controlCoordinates.imgHeight*t.controlCoordinates.targetScale-t.controlCoordinates.containerHeight)/2,t.controlCoordinates.scaleDifference=t.controlCoordinates.targetScale-t.controlCoordinates.initialScale,t.controlCoordinates.targetOffsetX=t.controlCoordinates.imgWidth*t.controlCoordinates.targetScale<=t.controlCoordinates.containerWidth?0:t.minMax(t.controlCoordinates.initialOffsetX-(t.controlCoordinates.pinchOffsetX-t.controlCoordinates.containerOffsetX-t.controlCoordinates.containerWidth/2-t.controlCoordinates.initialOffsetX)/(t.controlCoordinates.targetScale-t.controlCoordinates.scaleDifference)*t.controlCoordinates.scaleDifference,t.controlCoordinates.limitOffsetX*-1,t.controlCoordinates.limitOffsetX),t.controlCoordinates.targetOffsetY=t.controlCoordinates.imgHeight*t.controlCoordinates.targetScale<=t.controlCoordinates.containerHeight?0:t.minMax(t.controlCoordinates.initialOffsetY-(t.controlCoordinates.pinchOffsetY-t.controlCoordinates.containerOffsetY-t.controlCoordinates.containerHeight/2-t.controlCoordinates.initialOffsetY)/(t.controlCoordinates.targetScale-t.controlCoordinates.scaleDifference)*t.controlCoordinates.scaleDifference,t.controlCoordinates.limitOffsetY*-1,t.controlCoordinates.limitOffsetY),t.zoomPanElement(t.controlCoordinates.targetOffsetX+"px",t.controlCoordinates.targetOffsetY+"px",t.controlCoordinates.targetScale),t.controlCoordinates.targetScale>1?(t.controlCoordinates.zoomed=!0,(!t.domNodes.caption.style.opacity||t.domNodes.caption.style.opacity>0)&&t.domNodes.caption.style.display!=="none"&&t.fadeOut(t.domNodes.caption,t.options.fadeSpeed)):(t.controlCoordinates.initialScale===1&&(t.controlCoordinates.zoomed=!1,t.domNodes.caption.style.display==="none"&&t.fadeIn(t.domNodes.caption,t.options.fadeSpeed)),t.controlCoordinates.initialPinchDistance=null,t.controlCoordinates.capture=!1),t.controlCoordinates.initialPinchDistance=t.controlCoordinates.targetPinchDistance,t.controlCoordinates.initialScale=t.controlCoordinates.targetScale,t.controlCoordinates.initialOffsetX=t.controlCoordinates.targetOffsetX,t.controlCoordinates.initialOffsetY=t.controlCoordinates.targetOffsetY,t.setZoomData(t.controlCoordinates.targetScale,t.controlCoordinates.targetOffsetX,t.controlCoordinates.targetOffsetY),t.zoomPanElement(t.controlCoordinates.targetOffsetX+"px",t.controlCoordinates.targetOffsetY+"px",t.controlCoordinates.targetScale)})}this.addEventListener(this.domNodes.image,["touchstart."+this.eventNamespace,"mousedown."+this.eventNamespace],function(s){if(s.target.tagName==="A"&&s.type==="touchstart")return!0;if(s.type==="mousedown")s.preventDefault(),t.controlCoordinates.initialPointerOffsetX=s.clientX,t.controlCoordinates.initialPointerOffsetY=s.clientY,t.controlCoordinates.containerHeight=t.getDimensions(t.domNodes.image).height,t.controlCoordinates.containerWidth=t.getDimensions(t.domNodes.image).width,t.controlCoordinates.imgHeight=t.getDimensions(t.currentImage).height,t.controlCoordinates.imgWidth=t.getDimensions(t.currentImage).width,t.controlCoordinates.containerOffsetX=t.domNodes.image.offsetLeft,t.controlCoordinates.containerOffsetY=t.domNodes.image.offsetTop,t.controlCoordinates.initialOffsetX=parseFloat(t.currentImage.dataset.translateX),t.controlCoordinates.initialOffsetY=parseFloat(t.currentImage.dataset.translateY),t.controlCoordinates.capture=!0;else{if(t.controlCoordinates.touchCount=s.touches.length,t.controlCoordinates.initialPointerOffsetX=s.touches[0].clientX,t.controlCoordinates.initialPointerOffsetY=s.touches[0].clientY,t.controlCoordinates.containerHeight=t.getDimensions(t.domNodes.image).height,t.controlCoordinates.containerWidth=t.getDimensions(t.domNodes.image).width,t.controlCoordinates.imgHeight=t.getDimensions(t.currentImage).height,t.controlCoordinates.imgWidth=t.getDimensions(t.currentImage).width,t.controlCoordinates.containerOffsetX=t.domNodes.image.offsetLeft,t.controlCoordinates.containerOffsetY=t.domNodes.image.offsetTop,t.controlCoordinates.touchCount===1){if(!t.controlCoordinates.doubleTapped)t.controlCoordinates.doubleTapped=!0,setTimeout(function(){t.controlCoordinates.doubleTapped=!1},300);else return t.currentImage.classList.add("sl-transition"),t.controlCoordinates.zoomed?(t.controlCoordinates.initialScale=1,t.setZoomData(t.controlCoordinates.initialScale,0,0),t.zoomPanElement("0px","0px",t.controlCoordinates.initialScale),t.controlCoordinates.zoomed=!1):(t.controlCoordinates.initialScale=t.options.doubleTapZoom,t.setZoomData(t.controlCoordinates.initialScale,0,0),t.zoomPanElement("0px","0px",t.controlCoordinates.initialScale),(!t.domNodes.caption.style.opacity||t.domNodes.caption.style.opacity>0)&&t.domNodes.caption.style.display!=="none"&&t.fadeOut(t.domNodes.caption,t.options.fadeSpeed),t.controlCoordinates.zoomed=!0),setTimeout(function(){t.currentImage&&t.currentImage.classList.remove("sl-transition")},200),!1;t.controlCoordinates.initialOffsetX=parseFloat(t.currentImage.dataset.translateX),t.controlCoordinates.initialOffsetY=parseFloat(t.currentImage.dataset.translateY)}else t.controlCoordinates.touchCount===2&&(t.controlCoordinates.initialPointerOffsetX2=s.touches[1].clientX,t.controlCoordinates.initialPointerOffsetY2=s.touches[1].clientY,t.controlCoordinates.initialOffsetX=parseFloat(t.currentImage.dataset.translateX),t.controlCoordinates.initialOffsetY=parseFloat(t.currentImage.dataset.translateY),t.controlCoordinates.pinchOffsetX=(t.controlCoordinates.initialPointerOffsetX+t.controlCoordinates.initialPointerOffsetX2)/2,t.controlCoordinates.pinchOffsetY=(t.controlCoordinates.initialPointerOffsetY+t.controlCoordinates.initialPointerOffsetY2)/2,t.controlCoordinates.initialPinchDistance=Math.sqrt((t.controlCoordinates.initialPointerOffsetX-t.controlCoordinates.initialPointerOffsetX2)*(t.controlCoordinates.initialPointerOffsetX-t.controlCoordinates.initialPointerOffsetX2)+(t.controlCoordinates.initialPointerOffsetY-t.controlCoordinates.initialPointerOffsetY2)*(t.controlCoordinates.initialPointerOffsetY-t.controlCoordinates.initialPointerOffsetY2)));t.controlCoordinates.capture=!0}return t.controlCoordinates.mousedown?!0:(t.transitionCapable&&(t.controlCoordinates.imageLeft=parseInt(t.domNodes.image.style.left,10)),t.controlCoordinates.mousedown=!0,t.controlCoordinates.swipeDiff=0,t.controlCoordinates.swipeYDiff=0,t.controlCoordinates.swipeStart=s.pageX||s.touches[0].pageX,t.controlCoordinates.swipeYStart=s.pageY||s.touches[0].pageY,!1)}),this.addEventListener(this.domNodes.image,["touchmove."+this.eventNamespace,"mousemove."+this.eventNamespace,"MSPointerMove"],function(s){if(!t.controlCoordinates.mousedown)return!0;if(s.type==="touchmove"){if(t.controlCoordinates.capture===!1)return!1;t.controlCoordinates.pointerOffsetX=s.touches[0].clientX,t.controlCoordinates.pointerOffsetY=s.touches[0].clientY,t.controlCoordinates.touchCount=s.touches.length,t.controlCoordinates.touchmoveCount++,t.controlCoordinates.touchCount>1?(t.controlCoordinates.pointerOffsetX2=s.touches[1].clientX,t.controlCoordinates.pointerOffsetY2=s.touches[1].clientY,t.controlCoordinates.targetPinchDistance=Math.sqrt((t.controlCoordinates.pointerOffsetX-t.controlCoordinates.pointerOffsetX2)*(t.controlCoordinates.pointerOffsetX-t.controlCoordinates.pointerOffsetX2)+(t.controlCoordinates.pointerOffsetY-t.controlCoordinates.pointerOffsetY2)*(t.controlCoordinates.pointerOffsetY-t.controlCoordinates.pointerOffsetY2)),t.controlCoordinates.initialPinchDistance===null&&(t.controlCoordinates.initialPinchDistance=t.controlCoordinates.targetPinchDistance),Math.abs(t.controlCoordinates.initialPinchDistance-t.controlCoordinates.targetPinchDistance)>=1&&(t.controlCoordinates.targetScale=t.minMax(t.controlCoordinates.targetPinchDistance/t.controlCoordinates.initialPinchDistance*t.controlCoordinates.initialScale,1,t.options.maxZoom),t.controlCoordinates.limitOffsetX=(t.controlCoordinates.imgWidth*t.controlCoordinates.targetScale-t.controlCoordinates.containerWidth)/2,t.controlCoordinates.limitOffsetY=(t.controlCoordinates.imgHeight*t.controlCoordinates.targetScale-t.controlCoordinates.containerHeight)/2,t.controlCoordinates.scaleDifference=t.controlCoordinates.targetScale-t.controlCoordinates.initialScale,t.controlCoordinates.targetOffsetX=t.controlCoordinates.imgWidth*t.controlCoordinates.targetScale<=t.controlCoordinates.containerWidth?0:t.minMax(t.controlCoordinates.initialOffsetX-(t.controlCoordinates.pinchOffsetX-t.controlCoordinates.containerOffsetX-t.controlCoordinates.containerWidth/2-t.controlCoordinates.initialOffsetX)/(t.controlCoordinates.targetScale-t.controlCoordinates.scaleDifference)*t.controlCoordinates.scaleDifference,t.controlCoordinates.limitOffsetX*-1,t.controlCoordinates.limitOffsetX),t.controlCoordinates.targetOffsetY=t.controlCoordinates.imgHeight*t.controlCoordinates.targetScale<=t.controlCoordinates.containerHeight?0:t.minMax(t.controlCoordinates.initialOffsetY-(t.controlCoordinates.pinchOffsetY-t.controlCoordinates.containerOffsetY-t.controlCoordinates.containerHeight/2-t.controlCoordinates.initialOffsetY)/(t.controlCoordinates.targetScale-t.controlCoordinates.scaleDifference)*t.controlCoordinates.scaleDifference,t.controlCoordinates.limitOffsetY*-1,t.controlCoordinates.limitOffsetY),t.zoomPanElement(t.controlCoordinates.targetOffsetX+"px",t.controlCoordinates.targetOffsetY+"px",t.controlCoordinates.targetScale),t.controlCoordinates.targetScale>1&&(t.controlCoordinates.zoomed=!0,(!t.domNodes.caption.style.opacity||t.domNodes.caption.style.opacity>0)&&t.domNodes.caption.style.display!=="none"&&t.fadeOut(t.domNodes.caption,t.options.fadeSpeed)),t.controlCoordinates.initialPinchDistance=t.controlCoordinates.targetPinchDistance,t.controlCoordinates.initialScale=t.controlCoordinates.targetScale,t.controlCoordinates.initialOffsetX=t.controlCoordinates.targetOffsetX,t.controlCoordinates.initialOffsetY=t.controlCoordinates.targetOffsetY)):(t.controlCoordinates.targetScale=t.controlCoordinates.initialScale,t.controlCoordinates.limitOffsetX=(t.controlCoordinates.imgWidth*t.controlCoordinates.targetScale-t.controlCoordinates.containerWidth)/2,t.controlCoordinates.limitOffsetY=(t.controlCoordinates.imgHeight*t.controlCoordinates.targetScale-t.controlCoordinates.containerHeight)/2,t.controlCoordinates.targetOffsetX=t.controlCoordinates.imgWidth*t.controlCoordinates.targetScale<=t.controlCoordinates.containerWidth?0:t.minMax(t.controlCoordinates.pointerOffsetX-(t.controlCoordinates.initialPointerOffsetX-t.controlCoordinates.initialOffsetX),t.controlCoordinates.limitOffsetX*-1,t.controlCoordinates.limitOffsetX),t.controlCoordinates.targetOffsetY=t.controlCoordinates.imgHeight*t.controlCoordinates.targetScale<=t.controlCoordinates.containerHeight?0:t.minMax(t.controlCoordinates.pointerOffsetY-(t.controlCoordinates.initialPointerOffsetY-t.controlCoordinates.initialOffsetY),t.controlCoordinates.limitOffsetY*-1,t.controlCoordinates.limitOffsetY),Math.abs(t.controlCoordinates.targetOffsetX)===Math.abs(t.controlCoordinates.limitOffsetX)&&(t.controlCoordinates.initialOffsetX=t.controlCoordinates.targetOffsetX,t.controlCoordinates.initialPointerOffsetX=t.controlCoordinates.pointerOffsetX),Math.abs(t.controlCoordinates.targetOffsetY)===Math.abs(t.controlCoordinates.limitOffsetY)&&(t.controlCoordinates.initialOffsetY=t.controlCoordinates.targetOffsetY,t.controlCoordinates.initialPointerOffsetY=t.controlCoordinates.pointerOffsetY),t.setZoomData(t.controlCoordinates.initialScale,t.controlCoordinates.targetOffsetX,t.controlCoordinates.targetOffsetY),t.zoomPanElement(t.controlCoordinates.targetOffsetX+"px",t.controlCoordinates.targetOffsetY+"px",t.controlCoordinates.targetScale))}if(s.type==="mousemove"&&t.controlCoordinates.mousedown){if(s.type=="touchmove")return!0;if(s.preventDefault(),t.controlCoordinates.capture===!1)return!1;t.controlCoordinates.pointerOffsetX=s.clientX,t.controlCoordinates.pointerOffsetY=s.clientY,t.controlCoordinates.targetScale=t.controlCoordinates.initialScale,t.controlCoordinates.limitOffsetX=(t.controlCoordinates.imgWidth*t.controlCoordinates.targetScale-t.controlCoordinates.containerWidth)/2,t.controlCoordinates.limitOffsetY=(t.controlCoordinates.imgHeight*t.controlCoordinates.targetScale-t.controlCoordinates.containerHeight)/2,t.controlCoordinates.targetOffsetX=t.controlCoordinates.imgWidth*t.controlCoordinates.targetScale<=t.controlCoordinates.containerWidth?0:t.minMax(t.controlCoordinates.pointerOffsetX-(t.controlCoordinates.initialPointerOffsetX-t.controlCoordinates.initialOffsetX),t.controlCoordinates.limitOffsetX*-1,t.controlCoordinates.limitOffsetX),t.controlCoordinates.targetOffsetY=t.controlCoordinates.imgHeight*t.controlCoordinates.targetScale<=t.controlCoordinates.containerHeight?0:t.minMax(t.controlCoordinates.pointerOffsetY-(t.controlCoordinates.initialPointerOffsetY-t.controlCoordinates.initialOffsetY),t.controlCoordinates.limitOffsetY*-1,t.controlCoordinates.limitOffsetY),Math.abs(t.controlCoordinates.targetOffsetX)===Math.abs(t.controlCoordinates.limitOffsetX)&&(t.controlCoordinates.initialOffsetX=t.controlCoordinates.targetOffsetX,t.controlCoordinates.initialPointerOffsetX=t.controlCoordinates.pointerOffsetX),Math.abs(t.controlCoordinates.targetOffsetY)===Math.abs(t.controlCoordinates.limitOffsetY)&&(t.controlCoordinates.initialOffsetY=t.controlCoordinates.targetOffsetY,t.controlCoordinates.initialPointerOffsetY=t.controlCoordinates.pointerOffsetY),t.setZoomData(t.controlCoordinates.initialScale,t.controlCoordinates.targetOffsetX,t.controlCoordinates.targetOffsetY),t.zoomPanElement(t.controlCoordinates.targetOffsetX+"px",t.controlCoordinates.targetOffsetY+"px",t.controlCoordinates.targetScale)}t.controlCoordinates.zoomed||(t.controlCoordinates.swipeEnd=s.pageX||s.touches[0].pageX,t.controlCoordinates.swipeYEnd=s.pageY||s.touches[0].pageY,t.controlCoordinates.swipeDiff=t.controlCoordinates.swipeStart-t.controlCoordinates.swipeEnd,t.controlCoordinates.swipeYDiff=t.controlCoordinates.swipeYStart-t.controlCoordinates.swipeYEnd,t.options.animationSlide&&t.slide(0,-t.controlCoordinates.swipeDiff+"px"))}),this.addEventListener(this.domNodes.image,["touchend."+this.eventNamespace,"mouseup."+this.eventNamespace,"touchcancel."+this.eventNamespace,"mouseleave."+this.eventNamespace,"pointerup","pointercancel","MSPointerUp","MSPointerCancel"],function(s){if(t.isTouchDevice&&s.type==="touchend"&&(t.controlCoordinates.touchCount=s.touches.length,t.controlCoordinates.touchCount===0?(t.currentImage&&t.setZoomData(t.controlCoordinates.initialScale,t.controlCoordinates.targetOffsetX,t.controlCoordinates.targetOffsetY),t.controlCoordinates.initialScale===1&&(t.controlCoordinates.zoomed=!1,t.domNodes.caption.style.display==="none"&&t.fadeIn(t.domNodes.caption,t.options.fadeSpeed)),t.controlCoordinates.initialPinchDistance=null,t.controlCoordinates.capture=!1):t.controlCoordinates.touchCount===1?(t.controlCoordinates.initialPointerOffsetX=s.touches[0].clientX,t.controlCoordinates.initialPointerOffsetY=s.touches[0].clientY):t.controlCoordinates.touchCount>1&&(t.controlCoordinates.initialPinchDistance=null)),t.controlCoordinates.mousedown){t.controlCoordinates.mousedown=!1;var f=!0;t.options.loop||(t.currentImageIndex===0&&t.controlCoordinates.swipeDiff<0&&(f=!1),t.currentImageIndex>=t.relatedElements.length-1&&t.controlCoordinates.swipeDiff>0&&(f=!1)),Math.abs(t.controlCoordinates.swipeDiff)>t.options.swipeTolerance&&f?t.loadImage(t.controlCoordinates.swipeDiff>0?1:-1):t.options.animationSlide&&t.slide(t.options.animationSpeed/1e3,"0px"),t.options.swipeClose&&Math.abs(t.controlCoordinates.swipeYDiff)>50&&Math.abs(t.controlCoordinates.swipeDiff)<t.options.swipeTolerance&&t.close()}}),this.addEventListener(this.domNodes.image,["dblclick"],function(s){if(!t.isTouchDevice)return t.controlCoordinates.initialPointerOffsetX=s.clientX,t.controlCoordinates.initialPointerOffsetY=s.clientY,t.controlCoordinates.containerHeight=t.getDimensions(t.domNodes.image).height,t.controlCoordinates.containerWidth=t.getDimensions(t.domNodes.image).width,t.controlCoordinates.imgHeight=t.getDimensions(t.currentImage).height,t.controlCoordinates.imgWidth=t.getDimensions(t.currentImage).width,t.controlCoordinates.containerOffsetX=t.domNodes.image.offsetLeft,t.controlCoordinates.containerOffsetY=t.domNodes.image.offsetTop,t.currentImage.classList.add("sl-transition"),t.controlCoordinates.zoomed?(t.controlCoordinates.initialScale=1,t.setZoomData(t.controlCoordinates.initialScale,0,0),t.zoomPanElement("0px","0px",t.controlCoordinates.initialScale),t.controlCoordinates.zoomed=!1,t.domNodes.caption.style.display==="none"&&t.fadeIn(t.domNodes.caption,t.options.fadeSpeed)):(t.controlCoordinates.initialScale=t.options.doubleTapZoom,t.setZoomData(t.controlCoordinates.initialScale,0,0),t.zoomPanElement("0px","0px",t.controlCoordinates.initialScale),(!t.domNodes.caption.style.opacity||t.domNodes.caption.style.opacity>0)&&t.domNodes.caption.style.display!=="none"&&t.fadeOut(t.domNodes.caption,t.options.fadeSpeed),t.controlCoordinates.zoomed=!0),setTimeout(function(){t.currentImage&&(t.currentImage.classList.remove("sl-transition"),t.currentImage.style[t.transitionPrefix+"transform-origin"]=null)},200),t.controlCoordinates.capture=!0,!1})}},{key:"getDimensions",value:function(t){var o=window.getComputedStyle(t),s=t.offsetHeight,f=t.offsetWidth,p=parseFloat(o.borderTopWidth),a=parseFloat(o.borderBottomWidth),n=parseFloat(o.paddingTop),e=parseFloat(o.paddingBottom),i=parseFloat(o.borderLeftWidth),u=parseFloat(o.borderRightWidth),m=parseFloat(o.paddingLeft),l=parseFloat(o.paddingRight);return{height:s-a-p-n-e,width:f-i-u-m-l}}},{key:"updateHash",value:function(){var t="pid="+(this.currentImageIndex+1),o=window.location.href.split("#")[0]+"#"+t;this.hashReseted=!1,this.pushStateSupport?window.history[this.historyHasChanges?"replaceState":"pushState"]("",document.title,o):this.historyHasChanges?window.location.replace(o):window.location.hash=t,this.historyHasChanges||(this.urlChangedOnce=!0),this.historyHasChanges=!0}},{key:"resetHash",value:function(){this.hashReseted=!0,this.urlChangedOnce?history.back():this.pushStateSupport?history.pushState("",document.title,window.location.pathname+window.location.search):window.location.hash="",clearTimeout(this.historyUpdateTimeout)}},{key:"updateURL",value:function(){clearTimeout(this.historyUpdateTimeout),this.historyHasChanges?this.historyUpdateTimeout=setTimeout(this.updateHash.bind(this),800):this.updateHash()}},{key:"setCaption",value:function(t,o,s){var f=this;if(this.options.captions&&t&&t!==""&&typeof t<"u"){var p,a=!((p=s??this.options.captionHTML)!==null&&p!==void 0)||p?"innerHTML":"innerText";this.hide(this.domNodes.caption),this.domNodes.caption.style.width=o+"px",this.domNodes.caption[a]=t,this.domNodes.image.appendChild(this.domNodes.caption),setTimeout(function(){f.fadeIn(f.domNodes.caption,f.options.fadeSpeed)},this.options.captionDelay)}}},{key:"slide",value:function(t,o){if(!this.transitionCapable)return this.domNodes.image.style.left=o;this.domNodes.image.style[this.transitionPrefix+"transform"]="translateX("+o+")",this.domNodes.image.style[this.transitionPrefix+"transition"]=this.transitionPrefix+"transform "+t+"s linear"}},{key:"getRelated",value:function(t){var o;return t&&t!==!1&&t!=="nofollow"?o=Array.from(this.elements).filter(function(s){return s.getAttribute("rel")===t}):o=this.elements,o}},{key:"openImage",value:function(t){var o=this;t.dispatchEvent(new Event("show."+this.eventNamespace)),this.globalScrollbarWidth=this.getScrollbarWidth(),this.options.disableScroll&&(this.toggleScrollbar("hide"),this.globalScrollbarWidth=0),this.options.htmlClass&&this.options.htmlClass!==""&&document.querySelector("html").classList.add(this.options.htmlClass),document.body.appendChild(this.domNodes.wrapper),this.domNodes.wrapper.appendChild(this.domNodes.image),this.options.overlay&&document.body.appendChild(this.domNodes.overlay),this.relatedElements=this.getRelated(t.rel),this.options.showCounter&&(this.relatedElements.length==1&&this.domNodes.wrapper.contains(this.domNodes.counter)?this.domNodes.wrapper.removeChild(this.domNodes.counter):this.relatedElements.length>1&&!this.domNodes.wrapper.contains(this.domNodes.counter)&&this.domNodes.wrapper.appendChild(this.domNodes.counter)),this.options.download&&this.domNodes.download&&this.domNodes.wrapper.appendChild(this.domNodes.download),this.isAnimating=!0,this.currentImageIndex=this.relatedElements.indexOf(t);var s=t.getAttribute(this.options.sourceAttr);this.currentImage=document.createElement("img"),this.currentImage.style.display="none",this.currentImage.setAttribute("src",s),this.currentImage.dataset.scale=1,this.currentImage.dataset.translateX=0,this.currentImage.dataset.translateY=0,this.loadedImages.indexOf(s)===-1&&this.loadedImages.push(s),this.domNodes.image.innerHTML="",this.domNodes.image.setAttribute("style",""),this.domNodes.image.appendChild(this.currentImage),this.fadeIn(this.domNodes.overlay,this.options.fadeSpeed),this.fadeIn([this.domNodes.counter,this.domNodes.navigation,this.domNodes.closeButton,this.domNodes.download],this.options.fadeSpeed),this.show(this.domNodes.spinner),this.domNodes.counter.querySelector(".sl-current").innerHTML=this.currentImageIndex+1,this.domNodes.counter.querySelector(".sl-total").innerHTML=this.relatedElements.length,this.adjustImage(),this.options.preloading&&this.preload(),setTimeout(function(){t.dispatchEvent(new Event("shown."+o.eventNamespace))},this.options.animationSpeed)}},{key:"forceFocus",value:function(){var t=this;this.removeEventListener(document,"focusin."+this.eventNamespace),this.addEventListener(document,"focusin."+this.eventNamespace,function(o){document!==o.target&&t.domNodes.wrapper!==o.target&&!t.domNodes.wrapper.contains(o.target)&&t.domNodes.wrapper.focus()})}},{key:"addEventListener",value:function(t,o,s,f){t=this.wrap(t),o=this.wrap(o);var p=y(t),a;try{for(p.s();!(a=p.n()).done;){var n=a.value;n.namespaces||(n.namespaces={});var e=y(o),i;try{for(e.s();!(i=e.n()).done;){var u=i.value,m=f||!1,l=["touchstart","touchmove","mousewheel","DOMMouseScroll"].indexOf(u.split(".")[0])>=0;l&&this.isPassiveEventsSupported&&(v(m)==="object"?m.passive=!0:m={passive:!0}),n.namespaces[u]=s,n.addEventListener(u.split(".")[0],s,m)}}catch(g){e.e(g)}finally{e.f()}}}catch(g){p.e(g)}finally{p.f()}}},{key:"removeEventListener",value:function(t,o){t=this.wrap(t),o=this.wrap(o);var s=y(t),f;try{for(s.s();!(f=s.n()).done;){var p=f.value,a=y(o),n;try{for(a.s();!(n=a.n()).done;){var e=n.value;p.namespaces&&p.namespaces[e]&&(p.removeEventListener(e.split(".")[0],p.namespaces[e]),delete p.namespaces[e])}}catch(i){a.e(i)}finally{a.f()}}}catch(i){s.e(i)}finally{s.f()}}},{key:"fadeOut",value:function(t,o,s){var f=this;t=this.wrap(t);var p=y(t),a;try{for(p.s();!(a=p.n()).done;){var n=a.value;n.style.opacity=parseFloat(n)||window.getComputedStyle(n).getPropertyValue("opacity")}}catch(u){p.e(u)}finally{p.f()}this.isFadeIn=!1;var e=16.66666/(o||this.options.fadeSpeed),i=function u(){var m=parseFloat(t[0].style.opacity);if((m-=e)<0){var l=y(t),g;try{for(l.s();!(g=l.n()).done;){var C=g.value;C.style.display="none",C.style.opacity=1}}catch(k){l.e(k)}finally{l.f()}s&&s.call(f,t)}else{var I=y(t),P;try{for(I.s();!(P=I.n()).done;){var M=P.value;M.style.opacity=m}}catch(k){I.e(k)}finally{I.f()}requestAnimationFrame(u)}};i()}},{key:"fadeIn",value:function(t,o,s,f){var p=this;t=this.wrap(t);var a=y(t),n;try{for(a.s();!(n=a.n()).done;){var e=n.value;e&&(e.style.opacity=0,e.style.display=f||"block")}}catch(l){a.e(l)}finally{a.f()}this.isFadeIn=!0;var i=parseFloat(t[0].dataset.opacityTarget||1),u=16.66666*i/(o||this.options.fadeSpeed),m=function l(){var g=parseFloat(t[0].style.opacity);if((g+=u)>i){var M=y(t),k;try{for(M.s();!(k=M.n()).done;){var st=k.value;st&&(st.style.opacity=i)}}catch($){M.e($)}finally{M.f()}s&&s.call(p,t)}else{var C=y(t),I;try{for(C.s();!(I=C.n()).done;){var P=I.value;P&&(P.style.opacity=g)}}catch($){C.e($)}finally{C.f()}if(!p.isFadeIn)return;requestAnimationFrame(l)}};m()}},{key:"hide",value:function(t){t=this.wrap(t);var o=y(t),s;try{for(o.s();!(s=o.n()).done;){var f=s.value;f.style.display!="none"&&(f.dataset.initialDisplay=f.style.display),f.style.display="none"}}catch(p){o.e(p)}finally{o.f()}}},{key:"show",value:function(t,o){t=this.wrap(t);var s=y(t),f;try{for(s.s();!(f=s.n()).done;){var p=f.value;p.style.display=p.dataset.initialDisplay||o||"block"}}catch(a){s.e(a)}finally{s.f()}}},{key:"wrap",value:function(t){return typeof t[Symbol.iterator]=="function"&&typeof t!="string"?t:[t]}},{key:"on",value:function(t,o){t=this.wrap(t);var s=y(this.elements),f;try{for(s.s();!(f=s.n()).done;){var p=f.value;p.fullyNamespacedEvents||(p.fullyNamespacedEvents={});var a=y(t),n;try{for(a.s();!(n=a.n()).done;){var e=n.value;p.fullyNamespacedEvents[e]=o,p.addEventListener(e,o)}}catch(i){a.e(i)}finally{a.f()}}}catch(i){s.e(i)}finally{s.f()}return this}},{key:"off",value:function(t){t=this.wrap(t);var o=y(this.elements),s;try{for(o.s();!(s=o.n()).done;){var f=s.value,p=y(t),a;try{for(p.s();!(a=p.n()).done;){var n=a.value;typeof f.fullyNamespacedEvents<"u"&&n in f.fullyNamespacedEvents&&f.removeEventListener(n,f.fullyNamespacedEvents[n])}}catch(e){p.e(e)}finally{p.f()}}}catch(e){o.e(e)}finally{o.f()}return this}},{key:"open",value:function(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;t=t||this.elements[0],typeof jQuery<"u"&&t instanceof jQuery&&(t=t.get(0)),o>0&&(t=this.elements[o]),this.initialImageIndex=this.elements.indexOf(t),this.initialImageIndex>-1&&this.openImage(t)}},{key:"openPosition",value:function(t){var o=this.elements[t];this.open(o,t)}},{key:"next",value:function(){this.loadImage(1)}},{key:"prev",value:function(){this.loadImage(-1)}},{key:"getLighboxData",value:function(){return{currentImageIndex:this.currentImageIndex,currentImage:this.currentImage,globalScrollbarWidth:this.globalScrollbarWidth}}},{key:"destroy",value:function(){this.off(["close."+this.eventNamespace,"closed."+this.eventNamespace,"nextImageLoaded."+this.eventNamespace,"prevImageLoaded."+this.eventNamespace,"change."+this.eventNamespace,"nextDone."+this.eventNamespace,"prevDone."+this.eventNamespace,"error."+this.eventNamespace,"changed."+this.eventNamespace,"next."+this.eventNamespace,"prev."+this.eventNamespace,"show."+this.eventNamespace,"shown."+this.eventNamespace]),this.removeEventListener(this.elements,"click."+this.eventNamespace),this.removeEventListener(document,"focusin."+this.eventNamespace),this.removeEventListener(document.body,"contextmenu."+this.eventNamespace),this.removeEventListener(document.body,"keyup."+this.eventNamespace),this.removeEventListener(this.domNodes.navigation.getElementsByTagName("button"),"click."+this.eventNamespace),this.removeEventListener(this.domNodes.closeButton,"click."+this.eventNamespace),this.removeEventListener(window,"resize."+this.eventNamespace),this.removeEventListener(window,"hashchange."+this.eventNamespace),this.close(),this.isOpen&&(document.body.removeChild(this.domNodes.wrapper),document.body.removeChild(this.domNodes.overlay)),this.elements=null}},{key:"refresh",value:function(){if(!this.initialSelector)throw"refreshing only works when you initialize using a selector!";var t=this.options,o=this.initialSelector;return this.destroy(),this.constructor(o,t),this}}]),h}(),F=H;r.default=F,globalThis.SimpleLightbox=H}(K)),K}var wt=bt();const ft=ct(wt),It="50788863-17c6cc6bc423c30b4b2c1ca93",Nt="https://pixabay.com/api/",Ot=document.getElementById("search-form"),S=document.getElementById("search-input"),z=document.getElementById("search-history"),Q=document.getElementById("gallery"),ut=document.getElementById("loader"),pt=document.getElementById("load-more-container"),J=document.getElementById("load-more-button"),Et=document.getElementById("theme-toggle"),St=document.querySelector(".theme-icon");document.getElementById("filters-container");const U=document.getElementById("image-type"),j=document.getElementById("orientation"),et=document.getElementById("sort-by"),Lt=document.getElementById("clear-filters"),tt=document.querySelectorAll(".category-btn"),dt=document.getElementById("favorites-section"),xt=document.getElementById("favorites-gallery");let L=1,x="",R=null,W=!1,Z=!0,D=[],O=[];function Tt(){const r=localStorage.getItem("theme")||"light";document.documentElement.setAttribute("data-theme",r),ht(r)}function Dt(){const v=document.documentElement.getAttribute("data-theme")==="dark"?"light":"dark";document.documentElement.setAttribute("data-theme",v),localStorage.setItem("theme",v),ht(v)}function ht(r){St.textContent=r==="dark"?"☀️":"🌙"}function Pt(){const r=localStorage.getItem("searchHistory");D=r?JSON.parse(r):[]}function At(){localStorage.setItem("searchHistory",JSON.stringify(D))}function Xt(r){D.includes(r)||(D.unshift(r),D.length>10&&D.pop(),At())}function ot(){D.length!==0&&(z.innerHTML=D.map(r=>`<div class="history-item" data-query="${r}">${r}</div>`).join(""),z.style.display="block")}function _(){z.style.display="none"}function Yt(){const r=localStorage.getItem("favorites");O=r?JSON.parse(r):[],it()}function mt(){localStorage.setItem("favorites",JSON.stringify(O))}function Ht(r,v){const y=O.findIndex(w=>w.id===r);y===-1?(O.push({id:r,...v}),A.success({title:"Added to Favorites",message:"Image added to your favorites!",position:"topRight"})):(O.splice(y,1),A.info({title:"Removed from Favorites",message:"Image removed from favorites",position:"topRight"})),mt(),it(),nt()}function it(){if(O.length===0){dt.style.display="none";return}dt.style.display="block",xt.innerHTML=O.map(r=>Mt(r)).join(""),R&&R.destroy(),R=new ft(".favorites-gallery a",{captionsData:"alt",captionDelay:250})}function Mt(r){return`
    <li class="gallery-item">
      <a href="${r.largeImageURL}">
        <img 
          src="${r.webformatURL}" 
          alt="${r.tags}" 
          class="gallery-image"
        />
      </a>
      <button class="favorite-btn favorited" onclick="removeFromFavorites(${r.id})">❤️</button>
      <div class="image-info">
        <div class="info-item">
          <span class="info-label">Likes</span>
          <span class="info-value">${r.likes}</span>
        </div>
        <div class="info-item">
          <span class="info-label">Views</span>
          <span class="info-value">${r.views}</span>
        </div>
        <div class="info-item">
          <span class="info-label">Comments</span>
          <span class="info-value">${r.comments}</span>
        </div>
        <div class="info-item">
          <span class="info-label">Downloads</span>
          <span class="info-value">${r.downloads}</span>
        </div>
      </div>
    </li>
  `}function nt(){document.querySelectorAll(".favorite-btn").forEach(v=>{const y=parseInt(v.dataset.imageId),w=O.some(c=>c.id===y);v.classList.toggle("favorited",w),v.innerHTML=w?"❤️":"🤍"})}function kt(){R&&R.destroy(),R=new ft(".gallery a",{captionsData:"alt",captionDelay:250})}function Rt(){ut.style.display="flex",W=!0}function zt(){ut.style.display="none",W=!1}function Wt(){pt.style.display="block"}function gt(){pt.style.display="none"}function vt(){Q.innerHTML="",L=1,Z=!0,gt()}function Bt(r){const v=O.some(y=>y.id===r.id);return`
    <li class="gallery-item" data-image-id="${r.id}">
      <a href="${r.largeImageURL}">
        <img 
          src="${r.webformatURL}" 
          alt="${r.tags}" 
          class="gallery-image"
          loading="lazy"
        />
      </a>
      <button class="favorite-btn ${v?"favorited":""}" 
              data-image-id="${r.id}" 
              onclick="toggleFavorite(${r.id}, ${JSON.stringify(r).replace(/"/g,"&quot;")})">
        ${v?"❤️":"🤍"}
      </button>
      <div class="image-info">
        <div class="info-item">
          <span class="info-label">Likes</span>
          <span class="info-value">${r.likes}</span>
        </div>
        <div class="info-item">
          <span class="info-label">Views</span>
          <span class="info-value">${r.views}</span>
        </div>
        <div class="info-item">
          <span class="info-label">Comments</span>
          <span class="info-value">${r.comments}</span>
        </div>
        <div class="info-item">
          <span class="info-label">Downloads</span>
          <span class="info-value">${r.downloads}</span>
        </div>
      </div>
    </li>
  `}function Ft(r,v=!1){v||vt();const y=r.map(Bt).join("");v?Q.insertAdjacentHTML("beforeend",y):Q.innerHTML=y,kt(),nt(),r.length===20?Wt():(Z=!1,gt())}function qt(){return{image_type:U.value==="all"?"photo":U.value,orientation:j.value==="all"?"horizontal":j.value,order:et.value}}async function Ut(r,v=1){const y=qt(),w=new URLSearchParams({key:It,q:r,image_type:y.image_type,orientation:y.orientation,order:y.order,safesearch:"true",page:v,per_page:20}),c=`${Nt}?${w}`;console.log("Fetching from URL:",c);try{const N=await fetch(c);if(!N.ok)throw new Error(`HTTP error! status: ${N.status}`);const E=await N.json();return console.log("API Response:",E),E}catch(N){throw console.error("Error fetching images:",N),N}}async function X(r,v=1){if(!W)try{Rt();const y=await Ut(r,v);if(y.hits.length===0){A.error({title:"No Results",message:"Sorry, there are no images matching your search query. Please try again!",position:"topRight"}),v===1&&vt();return}Ft(y.hits,v>1),v===1&&(Xt(r),A.success({title:"Success",message:`Found ${y.totalHits} images`,position:"topRight"}))}catch(y){A.error({title:"Error",message:"An error occurred while fetching images. Please try again.",position:"topRight"}),console.error("Search error:",y)}finally{zt()}}function jt(){const r=new IntersectionObserver(v=>{v.forEach(y=>{y.isIntersecting&&Z&&!W&&x&&(L++,X(x,L))})},{threshold:.1});J&&r.observe(J)}Ot.addEventListener("submit",async r=>{r.preventDefault();const v=S.value.trim();if(!v){A.warning({title:"Warning",message:"Please enter a search query",position:"topRight"});return}x=v,L=1,await X(v,1)});S.addEventListener("focus",ot);S.addEventListener("input",()=>{S.value.trim()?_():ot()});z.addEventListener("click",r=>{if(r.target.classList.contains("history-item")){const v=r.target.dataset.query;S.value=v,_(),x=v,L=1,X(v,1)}});document.addEventListener("click",r=>{!S.contains(r.target)&&!z.contains(r.target)&&_()});J.addEventListener("click",()=>{!W&&Z&&(L++,X(x,L))});Et.addEventListener("click",Dt);tt.forEach(r=>{r.addEventListener("click",()=>{tt.forEach(y=>y.classList.remove("active")),r.classList.add("active");const v=r.dataset.category;S.value=v,x=v,L=1,X(v,1)})});[U,j,et].forEach(r=>{r.addEventListener("change",()=>{x&&(L=1,X(x,1))})});Lt.addEventListener("click",()=>{U.value="all",j.value="all",et.value="relevance",tt.forEach(r=>r.classList.remove("active")),x&&(L=1,X(x,1))});document.addEventListener("keydown",r=>{(r.ctrlKey||r.metaKey)&&r.key==="k"&&(r.preventDefault(),S.focus()),r.key==="Escape"&&(_(),S.blur())});function Zt(){Tt(),Pt(),Yt(),jt(),S.value.trim()||ot()}Zt();window.toggleFavorite=Ht;window.removeFromFavorites=r=>{const v=O.findIndex(y=>y.id===r);v!==-1&&(O.splice(v,1),mt(),it(),nt(),A.info({title:"Removed from Favorites",message:"Image removed from favorites",position:"topRight"}))};
